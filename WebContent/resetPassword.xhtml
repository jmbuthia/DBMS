<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

	<h:head>
	<link rel="shortcut icon" type="image/x-icon" href="#{resource['images/helmet.gif']}"/>
	 
 <title><ui:insert name="title">boda boda</ui:insert></title>

	</h:head>
     
    <h:body>
    <!-- <div class="ui-fluid"> -->
   
    
    <p:layout fullPage="true" >
       <p:layoutUnit visible="true" position="north" size="81" resizable="true" closable="true" collapsible="true" gutter="0">
                    <ui:include src="/templetes/headerLogin.xhtml" />
                </p:layoutUnit>

                <p:layoutUnit position="south" size="39" closable="true" collapsible="true" gutter="0">
                    <ui:include src="/templetes/footer.xhtml"></ui:include>
                </p:layoutUnit>
                
                
                <p:layoutUnit position="center"   collapsible="true" collapsed="false" gutter="0">
        <f:view>
        <p:growl id="growl"  autoUpdate="true" showDetail="true"/>
       
        <h:form>
         
            <center>
            
            <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
 
<p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
    <!-- <p:graphicImage name="images/loadingAnimationBar.gif" /> -->
    <i class="fa fa-spinner fa-3x fa-spin" ></i>
</p:dialog>
            
         
           <h3>  <p:outputLabel value="#{message}" style="color:green;"></p:outputLabel></h3>
          
           <p:spacer height="50"></p:spacer>
    <p:panelGrid id="pan" border="2" cellpadding="20" cellspacing="20" columns="3" >
   <f:facet name="header" style="color:teal">Please fill in the confirmation code you received via phone sms and reset your Password.</f:facet>  
<p:outputLabel for="confirmationCode" value="Confirmation Code"/>
<p:inputText id="confirmationCode" value="#{forgotPassword.confirmationCode}" required="true" requiredMessage="Confirmation Code is required"/>
<p:message for="confirmationCode"/>

<p:outputLabel for="newPassword" value="New Password"/>
<p:password id="newPassword" value="#{forgotPassword.newPassword}"
 validatorMessage="Password must be more than 6 characters, Contain atleast 1 lowercase,number and uppercase. Also matches confirm password."
required="true" inline="false" match="confirmNewPassword" requiredMessage="New password is required"
 feedback= "true" >
 <f:validateRegex
		pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{6,}" />
 </p:password>
<p:message for="newPassword"/>

<p:outputLabel for="confirmNewPassword" value="Confirm New Password"/>
<p:password id="confirmNewPassword" value="#{forgotPassword.newPassword}" required="true" requiredMessage="confirm New password is required"/>
<p:message for="confirmNewPassword"/>

<f:facet name="footer">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<p:commandButton id="resetButton"  value="Reset Password" icon="ui-icon-check" action="#{forgotPassword.resetPassword()}"  update="pan" />

</f:facet>
</p:panelGrid>
</center>
        </h:form>
        </f:view> 
        </p:layoutUnit>
        
        
        </p:layout>
        
      <!--   </div> -->
    </h:body>
    
     
</html> 